################################
# Change directory
################################
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."


################################
# Clear
################################
alias clr=clear
alias cls=clear


################################
# List files
################################
alias la='ls -A'
alias ls='ls  -1 --color=auto --group-directories-first -X --sort=extension'


#################################
# Git
################################
alias ga='git add'
alias gaa='git add -A'
alias gb='git branch'
alias gbd='git branch -d'
alias gbdd='git branch -D'
alias gc='git checkout'
alias gcm='git commit -m'
alias gd='git diff'
alias gdc='git diff --cached'
alias gcb='git checkout -b'
alias gl='git log -25 --graph --pretty=format:"%C(yellow)%h - %C(green)%cn %C(reset)%s %C(blue bold)%d"'
alias gp='git push'
alias gpl='git pull'
alias gpll='git pull --prune'
alias gri='git rebase -i'
alias gs='git status --short --branch'
alias gsp='git stash pop'
alias gst='git stash'
alias gprune='git remote prune origin'

# Commit current changes into previous commit
function gca() {
  if [[ "$(git log -1)" == *"Merge"* ]]; then echo "Cannot amend into merge commit"; else git commit --amend --no-edit; fi
}


#################################
# Misc
################################
alias size="duh -sh"
alias volume="amixer sset 'Master'"
alias wifi=nmtui
alias format="npx prettier --write --prose-wrap always"
alias format-md="npx prettier --write --prose-wrap always --parser markdown"
alias format-svg="npx prettier --write --prose-wrap always --parser html"
# alias rg="rg --color ansi"

# Extract comand because no one remembers the tar flags
extract () {
   if [ -f $1 ] ; then
       case $1 in
           *.tar.bz2)   tar xvjf $1    ;;
           *.tar.gz)    tar xvzf $1    ;;
           *.bz2)       bunzip2 $1     ;;
           *.rar)       unrar x $1       ;;
           *.gz)        gunzip $1      ;;
           *.tar)       tar xvf $1     ;;
           *.tbz2)      tar xvjf $1    ;;
           *.tgz)       tar xvzf $1    ;;
           *.zip)       unzip $1       ;;
           *.Z)         uncompress $1  ;;
           *.7z)        7z x $1        ;;
           *)           echo "Error: Unable to extract '$1'..." ;;
       esac
   else
       echo "Error: '$1' is not a valid file"
   fi
}

alias diff="diff --color=always"
alias vi="vim --clean"


#################################
# Application specific
################################
[ -x "$(command -v helm)" ] && source <(helm completion zsh)
[ -x "$(command -v kubectl)" ] && source <(kubectl completion zsh)

[ -f ~/.dotfiles/.alias.local ] && source ~/.dotfiles/.alias.local


if [[ "$OSTYPE" == "darwin"* ]]; then
  source ~/.dotfiles/.alias.mac
fi
